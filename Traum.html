<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name=description content="Simon Henriksson Portfolio">
    <meta name=author content="Simon Henriksson">
    <title>Simon Henriksson: Portfolio</title>
    <link rel="stylesheet" href="Games.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
    <div class="topnav">
        <div id="myLinks">
            <a href="./" style="top: 50px;">Home</a>
            <a href="./#specialization-container-id'" style="top: 100px;">Specialization</a>
            <a href="./#games-container-id" style="top: 150px;">Games</a>
            <a href="AboutMe" style="top: 200px;">About Me</a>
        </div>

        <a href="javascript:void(0);" class="icon" onclick="myFunction()">
            <i class="fa fa-bars"></i>
        </a>
    </div>
    <div class="top-menu">
        <div class="menu-item" onMouseOver="this.style.color='#545a91'" onMouseOut="this.style.color='#cccccc'" 
        onclick="window.location.href = './'">
            Home
        </div>
        <div class="menu-item" onMouseOver="this.style.color='#545a91'" onMouseOut="this.style.color='#cccccc'"
            onclick="window.location.href = './#specialization-container-id'">
            Specialization
        </div>
        <div class="menu-item" onMouseOver="this.style.color='#545a91'" onMouseOut="this.style.color='#cccccc'"
            onclick="window.location.href = './#games-container-id'">
            Games
        </div>
        <div class="menu-item" onMouseOver="this.style.color='#545a91'" onMouseOut="this.style.color='#cccccc'"
            onclick="window.location.href = 'AboutMe'">
            About Me
        </div>
    </div>

    <div class="item-container">
        <img class="traum-image" src="Traum.jpg">

        <div class="traum-spritesheet-container">
            <img src="DIVERSITY.png" class="awards">
            <img src="GOTY.png" class="awards-GOTY">
            <img src="NARRATIVE.png" class="awards">
        </div>

        <div class="video-contribution-holder">
            <iframe class="video-player" src="https://www.youtube-nocookie.com/embed/S37jEJCWIgg?si=wVGaY_8IvJZy5cpu" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
            <div class="contibution">
                <br><br>
                <u><b>Contibution</b></u>
                <br>
                <br>
                <div class="contibutions">
                    <div onclick="document.getElementById('SSUE-title').scrollIntoView()"><u>Unity Sprite Sheet Extractor/Importer</u></div>
                    <div onclick="document.getElementById('SSA-title').scrollIntoView()"><u>Sprite Sheet Animator</u></div>
                    <div onclick="document.getElementById('TAUTT-title').scrollIntoView()"><u>Scripted Animation, Unity To TGE</u></div>
                </div>
            </div>
        </div>

        <div class="Engine">
            This game was made in
            <br>TGE (The Game Assembly in house engine)
        </div>

        <div id="SSUE-title" class="contribution-titletext">
            <b>Unity Sprite sheet Extractor/Importer</b>
        </div>

        <div class="text-image-container-horiz">
            <div class="contribution-text">
                For the project we needed an easy, stressfree and effective way to switch between different textures when animating a sprite.
                I had done this before so i took the task and at first made a simple sprite switcher to animate the sprite, this method needed to create a bunch of textures and store it in memory and thus was a no go.
                To make this more effective i used the meta files from unity when editing and exported the meta into our project to get the min and max coordinates on the sprite.
                with the unity sprite ".meta" files, i could import these and create textures from them in our engine. I then used these rects i get and animate the sprite.
            </div>

            <div>
                <img src="SpriteSheetMeta.png" class="SpriteSheetImage">
                <div style="text-align: center; margin-left: 10%">
                    <i>Example of a sprite ".meta" file</i>
                </div>
            </div>
        </div>

        <div style="width: 100%">
            <pre style="font-family:monospace;color: rgb(156, 220, 254); background-color: rgb(43, 43, 43); font-weight: 400; "><ol style="padding-left: 3em;"><li><span style="color: rgb(248, 248, 242); font-weight: 400;">std</span>::<span style="color: rgb(78, 201, 176); font-weight: 400;">wstring</span> filePathWide = spriteSheet.<span style="color: rgb(224, 224, 138); font-weight: 400;">GetFilePath</span>();</li><li></li><li><span style="color: rgb(87, 166, 74); font-weight: 400;">// Add meta to the end of string</span></li><li>filePathWide += <span style="color: rgb(214, 157, 133); font-weight: 400;">L".meta"</span>;</li><li><span style="color: rgb(156, 220, 254); font-weight: 400;"><span style="color: rgb(248, 248, 242); font-weight: 400;">std</span>::<span style="color: rgb(78, 201, 176); font-weight: 400;">ifstream</span> <span style="color: rgb(224, 224, 138); font-weight: 400;">file</span><span style="color: rgb(86, 156, 214); font-weight: 400;">(filePathWide)</span></span>;</li><li><span style="color: rgb(248, 248, 242); font-weight: 400;">std</span>::<span style="color: rgb(78, 201, 176); font-weight: 400;">string</span> line;</li><li><span style="color: rgb(86, 156, 214); font-weight: 400;">bool</span> foundInformation = <span style="color: rgb(86, 156, 214); font-weight: 400;">false</span>;</li><li>	</li><li><span style="color: rgb(216, 160, 223); font-weight: 400;">while</span> (file.<span style="color: rgb(224, 224, 138); font-weight: 400;">good</span>())</li><li>{</li><li>    <span style="color: rgb(87, 166, 74); font-weight: 400;">// Search for the information we want and run if it finds one</span></li><li>    <span style="color: rgb(216, 160, 223); font-weight: 400;">while</span> (<span style="color: rgb(248, 248, 242); font-weight: 400;">std</span>::<span style="color: rgb(224, 224, 138); font-weight: 400;">getline</span>(file, line))</li><li>    {</li><li>        <span style="color: rgb(216, 160, 223); font-weight: 400;">if</span> (line == <span style="color: rgb(214, 157, 133); font-weight: 400;">"rect:"</span>)</li><li>        {</li><li>            foundInformation = <span style="color: rgb(86, 156, 214); font-weight: 400;">true</span>;</li><li>            <span style="color: rgb(216, 160, 223); font-weight: 400;">break</span>;</li><li>        }</li><li>    }</li><li>    <span style="color: rgb(216, 160, 223); font-weight: 400;">if</span> (!foundInformation)</li><li>        <span style="color: rgb(216, 160, 223); font-weight: 400;">continue</span>;</li><li>    <span style="color: rgb(216, 160, 223); font-weight: 400;">if</span> (line == <span style="color: rgb(214, 157, 133); font-weight: 400;">"rect:"</span>)</li><li>    {</li><li>        <span style="color: rgb(248, 248, 242); font-weight: 400;">std</span>::<span style="color: rgb(224, 224, 138); font-weight: 400;">getline</span>(file, line);</li><li>        <span style="color: rgb(248, 248, 242); font-weight: 400;">std</span>::<span style="color: rgb(224, 224, 138); font-weight: 400;">getline</span>(file, xString);</li><li>        <span style="color: rgb(248, 248, 242); font-weight: 400;">std</span>::<span style="color: rgb(224, 224, 138); font-weight: 400;">getline</span>(file, yString);</li><li>        <span style="color: rgb(248, 248, 242); font-weight: 400;">std</span>::<span style="color: rgb(224, 224, 138); font-weight: 400;">getline</span>(file, widthString);</li><li>	<span style="color: rgb(248, 248, 242); font-weight: 400;">std</span>::<span style="color: rgb(224, 224, 138); font-weight: 400;">getline</span>(file, heightString);</li><li>	x = <span style="color: rgb(78, 201, 176); font-weight: 400;">SpriteSheet</span>::<span style="color: rgb(224, 224, 138); font-weight: 400;">SearchForNumber</span>(xString);</li><li>	y = <span style="color: rgb(78, 201, 176); font-weight: 400;">SpriteSheet</span>::<span style="color: rgb(224, 224, 138); font-weight: 400;">SearchForNumber</span>(yString);</li><li>	width = <span style="color: rgb(224, 224, 138); font-weight: 400;">SearchForNumber</span>(widthString);</li><li>	height = <span style="color: rgb(224, 224, 138); font-weight: 400;">SearchForNumber</span>(heightString);</li><li>    }</li><li>    foundInformation = <span style="color: rgb(86, 156, 214); font-weight: 400;">false</span>;</li><li>}</li><li>file.<span style="color: rgb(224, 224, 138); font-weight: 400;">close</span>();</li></ol></pre>
        </div>

        <i>Code showing how to extract these from meta file</i>

        <div id="SSA-title" class="contribution-titletext">
            <b>Sprite Sheet Animator</b>
        </div>

        <div class="contribution-text">
            After importing ".meta" files the animation of these sprites could begin. The way they load in is we have the name and extension of the texture t.ex "T_Player_C.dds" and just add ".meta" at the end.
            All these rects in the File could then be loaded into a list to easily and effectivly access them later.
            in the animator class i have a variable that stores what sprite index is suppose to be used to cut out an area of the bigger texture.
            <br>
            <br>
        </div>

        <div class="traum-spritesheet-container">
            <img src="SpriteSheetSplit.png" class="traum-spritesheet">
            <img src="TaumAnimation.gif" class="traum-animation">
        </div>

       <pre style="width: 100%; overflow-x: auto; font-family:monospace;color: rgb(156, 220, 254); background-color: rgb(43, 43, 43); font-weight: 400; "><ol style="padding-left: 3em;"><li style="width: 100%;"><span style="color: rgb(156, 220, 254); font-weight: 400;"><span style="color: rgb(86, 156, 214); font-weight: 400;">void</span> <span style="color: rgb(224, 224, 138); font-weight: 400;">TGE_Animator::Update</span><span style="color: rgb(86, 156, 214); font-weight: 400;">()</span></span></li><li style="width: 100%;">{</li><li style="width: 100%;">	<span style="color: rgb(216, 160, 223); font-weight: 400;">if</span> (myCurrentAnimation == <span style="color: rgb(86, 156, 214); font-weight: 400;">nullptr</span> || myCurrentAnimation-&gt;frameCount == <span style="color: rgb(86, 156, 214); font-weight: 400;">0</span>) <span style="color: rgb(216, 160, 223); font-weight: 400;">return</span>;</li><li style="width: 100%;">	<span style="color: rgb(216, 160, 223); font-weight: 400;">if</span> (myCurrentAnimation-&gt;paused || (!myCurrentAnimation-&gt;loopAnimation &amp;&amp; myCurrentFrame == myCurrentAnimation-&gt;spriteSheet.<span style="color: rgb(224, 224, 138); font-weight: 400;">GetFrameAmount</span>() - <span style="color: rgb(86, 156, 214); font-weight: 400;">1</span>)) <span style="color: rgb(216, 160, 223); font-weight: 400;">return</span>;</li><li style="width: 100%;"></li><li style="width: 100%;">	<span style="color: rgb(216, 160, 223); font-weight: 400;">while</span> (myTimeUntilNextFrame &lt;= <span style="color: rgb(86, 156, 214); font-weight: 400;">0.0f</span>)</li><li style="width: 100%;">	{</li><li style="width: 100%;">		<span style="color: rgb(87, 166, 74); font-weight: 400;">// Prevent wrapping if looping is not desired</span></li><li style="width: 100%;">		<span style="color: rgb(216, 160, 223); font-weight: 400;">if</span> (myCurrentFrame + <span style="color: rgb(86, 156, 214); font-weight: 400;">1</span> &gt;= myCurrentAnimation-&gt;frameCount &amp;&amp; !myCurrentAnimation-&gt;loopAnimation)</li><li style="width: 100%;">		{</li><li style="width: 100%;">			myTimeUntilNextFrame = <span style="color: rgb(86, 156, 214); font-weight: 400;">0.0f</span>;</li><li style="width: 100%;">			<span style="color: rgb(216, 160, 223); font-weight: 400;">break</span>;</li><li style="width: 100%;">		}</li><li style="width: 100%;">		myCurrentFrame = (myCurrentFrame + (mySpeedMultiplier &lt; <span style="color: rgb(86, 156, 214); font-weight: 400;">0</span> ? myCurrentAnimation-&gt;spriteSheet.<span style="color: rgb(224, 224, 138); font-weight: 400;">GetFrameAmount</span>() - <span style="color: rgb(86, 156, 214); font-weight: 400;">1</span> : <span style="color: rgb(86, 156, 214); font-weight: 400;">1</span>)) % myCurrentAnimation-&gt;spriteSheet.<span style="color: rgb(224, 224, 138); font-weight: 400;">GetFrameAmount</span>();</li><li style="width: 100%;"></li><li style="width: 100%;">		<span style="color: rgb(216, 160, 223); font-weight: 400;">if</span> (myTimeUntilNextFrame &lt; <span style="color: rgb(86, 156, 214); font-weight: 400;">-10</span>)</li><li style="width: 100%;">			myTimeUntilNextFrame = <span style="color: rgb(86, 156, 214); font-weight: 400;">-0.5f</span>;</li><li style="width: 100%;"></li><li style="width: 100%;">		myCurrentAnimation-&gt;spriteSheet.<span style="color: rgb(224, 224, 138); font-weight: 400;">SpriteTransformApply</span>(myCurrentFrame, sprite, myFacingDir);</li><li style="width: 100%;"></li><li style="width: 100%;">		myTimeUntilNextFrame += myCurrentAnimation-&gt;frames[myCurrentFrame];</li><li style="width: 100%;">	}</li><li style="width: 100%;"></li><li style="width: 100%;">	myTimeUntilNextFrame -= Time::<span style="color: rgb(224, 224, 138); font-weight: 400;">DeltaTime</span>() * <span style="color: rgb(248, 248, 242); font-weight: 400;">std</span>::<span style="color: rgb(224, 224, 138); font-weight: 400;">abs</span>(mySpeedMultiplier);</li><li style="width: 100%;">}</li></ol></pre>
        <div class="contribution-text-centered">
            <i>Run animation from the main character in Traum</i>
        </div>

        <div id="TAUTT-title" class="contribution-titletext">
            <b>Scripted Animation</b>
        </div>

        <div class="contribution-text-transform-animator">
            In Traum we had to make a way to move the monster on a path where the level designers could move, rotate and scale the object how they wanted and when they wanted it.
            I used unity for this task as well but this time using unity's Animaton tool. In unity Level designers used the animator and keyframes to move, rotate and scale right when it was needed in the boss sequence.
            In this place i also used unity's ".animation" file since its just plain text and i could extract position, rotation and scale.
            <br>In hindsight i would say that this is not a very efficient solution since there is alot of extra data in these unity ".animation" files that is not needed so instead directly export all of the properties to a json.
            Or if there is no way to acces these in Unity c# script you could make an external script that reads and extracts all properties from the ".animation" file and output into another file,
            then you would save a bit of storage.
            <br>I still like the implementation and an interesting way to go about solving the problem.
            <br>
            <br>
        </div>

        <img src="InterpolatedPosition.png" class="interpolated-position">

        <i>Run animation from the main character in Traum</i>

        <div class="closing-thoughts-title">
            <b>Closing Thoughts</b>
        </div>
        <div class="closing-thoughts">
            This was one of my favourite games to work on, since i got to work with tools i enjoy and make fun features for Traum.
            Traum is also a three time Swedish Game Awards winner, everyone in the developent team was amazaing and we made a very cool, fun and enjoyable game together.
            <br>Thanks to everyone at "Morbid Games"
        </div>

        <hr>

        <div class="Playable-game">
            If you want to learn more and play our amazing game follow the Link below
        </div>

        <a class="title-text" href="https://k0ded.itch.io/traum">
            TRAUM
        </a>
    </div>

    <hr style="margin-top: 5vw; margin-bottom: 5vw;">

    <footer style="flex-direction: column; margin-bottom: 5vw;">
        <div class="footer-text-holder">
            <b style="font-size: 2vw;">Contact</b>
            <br>Email: <a href="mailto:simon@pixi.nu" style="text-decoration: none; color: rgb(90, 92, 228);">simon@pixi.nu</a>
            <br>Location: Malmö, Västra Hamnen

            <br>
            <br>

            <div class="links">
                <a href="https://www.linkedin.com/in/simon-henriksson-473612216/" target="_blank" style="text-decoration: none;">
                    <img src="linkedin-logo.png" class="icon-link">
                </a>

                <a href="https://noothing.itch.io/" target="_blank" style="text-decoration: none; margin-left: 1vw;">
                    <img src="itch-io.1024x1024.png" class="icon-link">
                </a>

                <a href="https://github.com/8nooThing8" target="_blank" style="text-decoration: none; margin-left: 1vw;">
                    <img src="Github.png" class="icon-link">
                </a>

                <a href="C-V.pdf" target="_blank">
                    <img src="Resume.png" class="icon-link" style="text-decoration: none; margin-left: 1vw;">
                </a>
            </div>

            <br><br>

            I am part of The Game Assembly’s internship program. As per the agreement between the Games Industry and The
            Game Assembly, neither student nor company may be in contact with one another regarding internships before
            April 23rd. Any internship offers can be made on May 5th, at the earliest.
        </div>
    </footer>

    <script src="base.js"></script>
</body>
</html>